DATA1 SEGMENT
	STRI DB 'text'
	OPER1 DW 123Ah
	OPER2 DD 46Bh
	ADD1 DD PROCN2
DATA1 ENDS

DATA2 SEGMENT
	ARR DW 35h
	ADD2 DD 13Ch
DATA2 ENDS

CODE1 SEGMENT USE16
ASSUME CS:CODE1, DS:DATA1, GS:DATA2, FS:CODE2
LABEL1:
	
	INC CX

	JL LABEL2
	POP EAX
	PUSH OPER2[BX]
	AND OPER1[DI], AX
	MOV AX, ARR[BX]
	XCHG AX, CX
	
	CALL ADD2[BX]
	CALL FAR PTR PROCN2
	
	JNE LABEL1
		LABEL2:
		POP EDX
CODE1 ENDS

CODE2 SEGMENT USE16
ASSUME CS:CODE2, DS:DATA1, GS:DATA2

PROCN2 PROC
RET
PROCN2 ENDP

CALL ADD1[BX]
CODE2 ENDS

END
